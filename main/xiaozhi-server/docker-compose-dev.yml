# Dockerå¼€å‘ç‰ˆæœ¬ - æ”¯æŒä»£ç çƒ­æ›´æ–°

version: '3'
services:
  xiaozhi-esp32-server:
    image: ghcr.nju.edu.cn/xinnan-tech/xiaozhi-esp32-server:server_latest
    container_name: xiaozhi-esp32-server-dev
    restart: always
    security_opt:
      - seccomp:unconfined
    environment:
      - TZ=Asia/Shanghai
    ports:
      # wsæœåŠ¡ç«¯
      - "8000:8000"
      # httpæœåŠ¡çš„ç«¯å£ï¼Œç”¨äºç®€å•OTAæ¥å£(å•æœåŠ¡éƒ¨ç½²)ï¼Œä»¥åŠè§†è§‰åˆ†ææ¥å£
      - "8003:8003"
    volumes:
      # é…ç½®æ–‡ä»¶ç›®å½•
      - ./data:/opt/xiaozhi-esp32-server/data
      # æ¨¡å‹æ–‡ä»¶æŒ‚æ¥ï¼Œå¾ˆé‡è¦
      - ./models/SenseVoiceSmall/model.pt:/opt/xiaozhi-esp32-server/models/SenseVoiceSmall/model.pt
      # ğŸ”¥ æ·»åŠ ä»£ç ç›®å½•æ˜ å°„ï¼Œå®ç°çƒ­æ›´æ–°
      - ../xiaozhi-server/core:/opt/xiaozhi-esp32-server/core
      - ../xiaozhi-server/config:/opt/xiaozhi-esp32-server/config
      - ../xiaozhi-server/plugins_func:/opt/xiaozhi-esp32-server/plugins_func
      - ../xiaozhi-server/app.py:/opt/xiaozhi-esp32-server/app.py 